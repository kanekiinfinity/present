/* https://greensock.com/gsap */
TweenLite.set("#petals", { perspective:600 })
TweenLite.set("img", { xPercent:"-50%", yPercent:"-50%" })

var total = 50;
var warp = document.getElementById("petals"),
w = window.innerWidth,
h = window.innerHeight;

for (i = 0; i < total; i++) {
    var Div = document.createElement('div');
    TweenLite.set(Div, { attr: { class:'dot' }, x:R(0,w), y:R(-200,-150), z:R(-200,200)});
    warp.appendChild(Div);
    animm(Div);
}

function animm(elm) {
    TweenMax.to(elm,R(6,15), { y:h+100, ease:Linear.easeNone, repeat:-1, delay:-15 });
    TweenMax.to(elm,R(4,8), { x:'+=100', rotationZ:R(0,180), repeat:-1, yoyo:true, ease:Sine.easeInOut });
    TweenMax.to(elm,R(2,8), { rotationX:R(0,360), rotationY:R(0,360), repeat:-1, yoyo:true, ease:Sine.easeInOut, delay:-5 });
};

function R(min,max) { return min+Math.random() * (max-min) };


/* https://mattboldt.com/typed.js/ */
var typed = new Typed('#text', {
    strings: ['Желаю весеннего настроения, пусть на душе всегда будет светло и радостно. Желаю, чтобы на лице всегда сияла улыбка, пусть жизнь будет щедра на подарки. В самый женский день года желаю простого женского счастья и здоровья. 100 причин которые я люблю тебя  1. Я люблю тебя за твою искреннюю улыбку, даже если вижу её только на фото или в видеозвонках.  2. За твои теплые глаза, которые я так хочу видеть вживую чаще.  3. За твой смех, который делает мой день лучше, даже если я слышу его по телефону.  4. За то, как ты заботишься обо мне, несмотря на расстояние.  5. За твои добрые слова, которые согревают меня, когда тебя нет рядом.  6. За твои глупые шутки, которые веселят меня даже через сообщения.  7. За твое терпение, когда нам сложно из-за расстояния.  8. За твою поддержку в трудные моменты, даже если ты далеко.  9. За то, как ты вдохновляешь меня становиться лучше.  10. За твои милые сообщения перед сном.  11. За наше долгое общение в чатах и звонках.  12. За моменты, когда ты говоришь, что скучаешь.  13. За радость, которую я чувствую, когда вижу твое сообщение.  14. За то, что несмотря на километры, я чувствую твою любовь.  15. За ожидание наших встреч, которые становятся самыми счастливыми днями.  16. За твои "доброе утро" и "спокойной ночи".  17. За твои рассказы о том, как прошел твой день.  18. За моменты, когда мы считаем дни до нашей следующей встречи.  19. За тепло, которое ты даришь мне даже через экран телефона.  20. За наши милые голосовые сообщения.  21. За то, что ты заставляешь меня улыбаться, даже если я грущу.  22. За наши общие мечты о будущем.  23. За то, что ты никогда не даешь мне почувствовать себя одиноким.  24. За твои фото, которые я пересматриваю, когда скучаю.  25. За твое терпение к моим долгим сообщениям.  26. За моменты, когда ты говоришь, что любишь меня, даже если мы далеко друг от друга.  27. За твои сюрпризы и неожиданные звонки.  28. За твои теплые слова, которые дарят мне покой.  29. За нашу любовь, которая не боится расстояния.  30. За нашу уверенность в том, что расстояние – временно.  31. За твой голос, который я люблю слышать.  32. За твои милые привычки, даже если я не вижу их каждый день.  33. За ожидание наших встреч, которое делает их еще более особенными.  34. За твои комплименты, которые делают меня счастливым.  35. За моменты, когда мы оба мечтаем о том, как будем жить вместе.  36. За твои шутки, которые я читаю и смеюсь вслух.  37. За моменты, когда ты присылаешь мне песни, которые тебе напоминают обо мне.  38. За нашу связь, которая не зависит от расстояния.  39. За твое доверие ко мне.  40. За твое понимание, когда мы не можем увидеться так часто, как хотим.  41. За твои неожиданные признания в любви.  42. За моменты, когда я чувствую, что ты со мной, даже если мы далеко друг от друга.  43. За твои мечты, в которых есть место для меня.  44. За твою искренность и честность.  45. За наши долгие разговоры обо всем и ни о чем.  46. За моменты, когда ты мне говоришь, что ждешь встречи так же сильно, как я.  47. За то, как ты меня мотивируешь.  48. За твое умение находить время для меня, несмотря на дела.  49. За твое тепло, которое я ощущаю даже в виртуальных объятиях.  50. За наши планы, которые однажды станут реальностью.  51. За то, что ты заставляешь меня чувствовать себя любимым.  52. За то, что ты моя поддержка, даже на расстоянии.  53. За твое умение сделать так, что я скучаю по тебе еще сильнее.  54. За твою способность превращать даже короткий звонок в самое счастливое событие дня.  55. За то, как ты терпеливо ждешь нашу встречу.  56. За моменты, когда ты говоришь, что я тебе нужен.  57. За нашу любовь, которая только крепнет.  58. За то, как ты умеешь успокоить меня, даже если мы не рядом.  59. За чувство защищенности, которое ты мне даришь.  60. За моменты, когда ты говоришь: "Скоро увидимся".  61. За твои нежные слова, которые остаются в моей голове надолго.  62. За моменты, когда ты напоминаешь мне, что расстояние – это временно.  63. За твои мечты, которые мы обязательно осуществим вместе.  64. За наши любимые фильмы, которые мы смотрим одновременно, пусть и в разных местах.  65. За твои "как прошел день?", которые делают мой день лучше.  66. За то, что ты всегда находишь способ быть рядом, даже если не физически.  67. За моменты, когда ты заставляешь меня смеяться, даже если мне грустно.  68. За твои милые привычки, которые я обожаю.  69. За моменты, когда мы смеемся над чем-то в сообщениях.  70. За ожидание тех дней, когда мы больше не будем разлучаться.  71. За твою веру в нас.  72. За моменты, когда мы прощаемся после звонка, но не хотим вешать трубку.  73. За наши долгие переписки поздно ночью.  74. За наши маленькие традиции, несмотря на расстояние.  75. За то, что ты всегда в моих мыслях.  76. За твои сюрпризы, которые делают меня счастливым.  77. За твои "Я люблю тебя", которые для меня дороже всего.  78. За моменты, когда ты делаешь так, что мне кажется, будто ты рядом.  79. За то, что ты — мое вдохновение.  80. За все эмоции, которые ты мне даришь.  81. За твои теплые признания в любви.  82. За то, что ты даешь мне силы ждать нашу встречу.  83. За моменты, когда ты говоришь: "Я соскучилась".  84. За то, что с тобой мне не страшно будущее.  85. За все наши планы, которые мы обязательно воплотим.  86. За моменты, когда я понимаю, что ты — моя судьба.  87. За твою силу, которая вдохновляет меня.  88. За твое терпение ко мне.  89. За моменты, когда ты скучаешь так же сильно, как и я.  90. За твои слова поддержки, которые мне очень нужны.  91. За каждый твой взгляд, даже если пока только на экране.  92. За нашу любовь, которая сильнее любых расстояний.  93. За ожидание того дня, когда расстояние больше не будет нас разделять.  94. За то, что ты мой самый родной человек.  95. За каждую минуту, когда я думаю о тебе.  96. За каждое "я жду тебя".  97. За наше общее будущее, которое я не могу дождаться.  98. За все моменты, которые мы еще проживем вместе.  99. За нашу любовь, которая растет с каждым днем.  100. Просто за то, что ты есть.'],
    startDelay: 3000,
    typeSpeed: 50,
    backSpeed: 0,
    fadeOut: true,
    loop: false,
    showCursor: false,
    onComplete: function() {
        var author = document.getElementById("author");
        author.style.opacity = 1;
    }
});



document.addEventListener("DOMContentLoaded", function () {
    const textContainer = document.querySelector(".text");
    let isUserScrolling = false;

    textContainer.addEventListener("wheel", (event) => {
        if (event.deltaY < 0) {
            isUserScrolling = true; // Пользователь скроллит вверх
        } else {
            isUserScrolling = false;
        }
    });

    const observer = new MutationObserver(() => {
        if (!isUserScrolling) {
            setTimeout(() => {
                textContainer.scrollTo({
                    top: textContainer.scrollHeight,
                    behavior: "smooth"
                });
            }, 100);
        }
    });

    observer.observe(textContainer, { childList: true, subtree: true });
});